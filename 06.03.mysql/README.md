# Домашнее задание к занятию "6.3. MySQL"

## Задача 1

Используя docker поднимите инстанс MySQL (версию 8). Данные БД сохраните в volume.

![](img/task1.1.png)

![](img/task1.2.png)

Перейдите в управляющую консоль `mysql` внутри контейнера.

Используя команду `\h` получите список управляющих команд.

![](img/task1.3.png)

Найдите команду для выдачи статуса БД и **приведите в ответе** из ее вывода версию сервера БД.

![](img/task1.4.png)

Подключитесь к восстановленной БД и получите список таблиц из этой БД.

![](img/task1.5.png)

**Приведите в ответе** количество записей с `price` > 300.

![](img/task1.6.png)

## Задача 2

Создайте пользователя test в БД c паролем test-pass, используя:
- плагин авторизации mysql_native_password
- срок истечения пароля - 180 дней 
- количество попыток авторизации - 3 
- максимальное количество запросов в час - 100
- аттрибуты пользователя:
    - Фамилия "Pretty"
    - Имя "James"

![](img/task2.1.png)

Предоставьте привелегии пользователю `test` на операции SELECT базы `test_db`.

![](img/task2.2.png)
    
Используя таблицу INFORMATION_SCHEMA.USER_ATTRIBUTES получите данные по пользователю `test` и 
**приведите в ответе к задаче**.

![](img/task2.3.png)

## Задача 3

Установите профилирование `SET profiling = 1`.
Изучите вывод профилирования команд `SHOW PROFILES;`.

![](img/task3.1.png)

Исследуйте, какой `engine` используется в таблице БД `test_db` и **приведите в ответе**.

![](img/task3.2.png)

Измените `engine` и **приведите время выполнения и запрос на изменения из профайлера в ответе**:
- на `MyISAM`

![](img/task3.3.png)

- на `InnoDB`

![](img/task3.4.png)

## Задача 4 

Изучите файл `my.cnf` в директории /etc/mysql.

![](img/task4.1.png)

Измените его согласно ТЗ (движок InnoDB):
- Скорость IO важнее сохранности данных
- Нужна компрессия таблиц для экономии места на диске
- Размер буффера с незакомиченными транзакциями 1 Мб
- Буффер кеширования 30% от ОЗУ
- Размер файла логов операций 100 Мб

Приведите в ответе измененный файл `my.cnf`.

![](img/task4.2png)

